<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Home Cumplea√±os - Desktop</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="styles/main.css"/>
    <link id="favicon" rel="icon" type="image/ico" sizes="16x16" href="images/favicon.ico">
    <link id="favicon2x" rel="icon" type="image/png" sizes="32x32" href="images/icon.png">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
        var enmovimiento = false;
        var cnt_golpes = 0;
        var fuerzaGolpe = 5;
        (function($) {
            $(document).ready(function() {
                $('#pinata').sprite({fps: 8, no_of_frames: 8});
                $('#pinata_mov').sprite({fps: 16, no_of_frames: 16});
                $('#pinata_fin').sprite({fps: 4, no_of_frames: 4});

                $('#pinata').on('click',function(){
                    mover();
                });

                $('#pinata_mov').on('click',function(){
                    if(cnt_golpes < 3)
                        golpear();
                    else
                        final();
                });


            });

            var mover = function() {
                if(enmovimiento== true) return false;
                $('#pinata').hide();
                $('#pinata_mov').show();
                $('#golpe').show();
                enmovimiento = true;
                setTimeout(function(){
                    quitarPow();
                }, 250);
            };


            var golpear = function(){
                cnt_golpes++;
                sprite_golpe();
                $('#golpe').show();
                setTimeout(function(){
                    quitarPow();
                }, 250);

            };

            var sprite_golpe = function(){
                var fuerza_constante = 15;
                $('#pinata_mov').fps(fuerza_constante+fuerzaGolpe);
                fuerzaGolpe +=5;

            };

            var final = function(){
                $('#pinata_mov').hide();
                $('#pinata_fin').show();

                enmovimiento = false;
            };

            function quitarPow(){
                $('#golpe').hide();
            }


        })(jQuery);


    </script>
</head>
<body>
<div id="pinata"></div>
<div id="pinata_mov"></div>
<div id="pinata_fin"></div>
<div id="golpe"></div>
<div id="container">

    <div id="header">
        <div class="allow">Click "Allow" above to control stuff just by waving your hands.</div>
        <div class="instructions">Wave your hands, it's fun.</div>
        <div class="browsersWithVideo">This demo lets you control stuff using motion detection in your browser. Install
            <a href="https://www.google.com/landing/chrome/beta/" target="_blank">Chrome Beta</a> to play.
        </div>
    </div>

    <div id="cuadro_camara">

        <video id="webcam" autoplay width="320" height="240"></video>

        <video id="video-demo" controls="controls" poster="videos/jsdetection.jpg" width="320" height="240"
               onclick="if(/Android/.test(navigator.userAgent))this.play();">
            <source src="videos/jsdetection.mp4" type="video/mp4"/>
            <source src="videos/jsdetection.ogg" type="video/ogg"/>
            <source src="videos/jsdetection.webm" type="video/webm"/>
            Your browser doesn't support the HTML5 video tag.
        </video>

        <canvas id="canvas-source" width="320" height="240"></canvas>
        <canvas id="canvas-highlights" width="320" height="240"></canvas>
        <canvas id="canvas-blended" width="320" height="240"></canvas>

        <div id="hotSpots">
            <!--<div id="one"></div>-->
            <div id="another"></div>
            <!--<a href="http://google.com" class="link" style="right: 6%; bottom: 7%;">Google</a>-->
            <!--<a href="http://youtube.com" class="link" style="right: 6%; top: 5%; width: 14%"><img
                    src="http://s.ytimg.com/yt/img/logos/youtube_logo_standard_againstwhite-vflKoO81_.png" width="100%"></a>-->
        </div>
    </div>

    <div class="loading">Loading assets...</div>

    <div class="backFromVideo"><a href="#">Back</a></div>

    <div class="introduction">
        <p>This demo lets you control stuff using motion detection in your browser.</p>

        <p>Please allow access to your camera and microphone above.</p>
    </div>

    <div class="browsers">
        <p>This demo lets you control stuff using motion detection in your browser.</p>

        <p>Install <a href="https://www.google.com/landing/chrome/beta/" target="_blank">Chrome Beta</a> to play, or <a
                href="#" id="watchVideo">watch this video</a> to check it out first.</p>
    </div>

    <div id="footer">
        <div class="magic">Based on <a href="http://www.soundstep.com/blog/2012/03/22/javascript-motion-detection/"
                                       target="_blank">Magic Xylophone</a> by <a href="http://www.stinkdigital.com/"
                                                                                 target="_blank">Stink Digital</a>. Fork
            this <a href="https://github.com/RonnyO/js-motion-detection" target="_blank">on github</a></div>
    </div>

</div>

<script src="js/jquery.spritely.js"></script>
</body>
</html>